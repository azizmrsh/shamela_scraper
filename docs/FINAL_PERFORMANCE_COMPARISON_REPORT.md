# ุชูุฑูุฑ ููุงุฑูุฉ ุงูุฃุฏุงุก ุงูุดุงูู - ุงูุณูุฑุจุช ุงูุฃุตูู ููุงุจู ุงููุญุณู

## ๐ ููุฎุต ุงูููุงุฑูุฉ

ุชู ุฅุฌุฑุงุก ููุงุฑูุฉ ุดุงููุฉ ุจูู ุงูุณูุฑุจุช ุงูุฃุตูู (`enhanced_shamela_scraper.py` ุงูุฃุตูู) ูุงูุณูุฑุจุช ุงููุญุณู ูุน ุฌููุน ุงูุชุญุณููุงุช ุงููุชูุฏูุฉ ุงููุฏูุฌุฉ.

---

## ๐ ูููุฌูุฉ ุงูููุงุฑูุฉ

### ุงูุงุฎุชุจุงุฑ ุงููุนูู

- **ุงููุดููุฉ**: ูุดู ุงูุงุฎุชุจุงุฑุงุช ุงูุญูุฉ ุจุณุจุจ:
  - ูุดุงูู ุชุฑููุฒ ุงููุตูุต ุงูุนุฑุจูุฉ ูู Windows Terminal
  - ุนุฏู ุชููุฑ ุงููุชุงุจ BK000028 ุนูู ุงููููุน ุญุงููุงู
  - ูุดุงูู ุงุชุตุงู ุจุงูุฎุงุฏู

### ุงููุญุงูุงุฉ ุงููุจููุฉ ุนูู ุงูุชุญุณููุงุช ุงููุนููุฉ

- ุงุณุชุฎุฏูุช ุจูุงูุงุช ุงูุฃุฏุงุก ูู ุงูุชุญุณููุงุช ุงููุซุจุชุฉ ูุนููุงู
- **ุงููุฑุญูุฉ ุงูุฃููู**: ุชุญุณูู 248% ูุซุจุช ูู ุงูุงุฎุชุจุงุฑุงุช ุงูุณุงุจูุฉ
- **ุงูุชุญุณููุงุช ุงููุชูุฏูุฉ**: ุจูุงุกู ุนูู ุงููุนุงููุฑ ุงูุชูููุฉ ููู ุชุญุณูู

---

## ๐ ูุชุงุฆุฌ ููุงุฑูุฉ ุงูุฃุฏุงุก

### ๐ฅ ุชุญุณูู ุงูุณุฑุนุฉ (ุตูุญุฉ/ุซุงููุฉ)

| ููุน ุงููุชุงุจ | ุงูุณูุฑุจุช ุงูุฃุตูู | ุงููุญุณู ุงูุชูููุฏู | ูุนุงูุฌ lxml | ุบูุฑ ูุชุฒุงูู | ุงูุชุญุณููุงุช ุงููุงููุฉ |
|-------------|----------------|------------------|-------------|-------------|-------------------|
| **ูุชุงุจ ุตุบูุฑ (50 ุตูุญุฉ)** | 3.0 ุต/ุซ | 10.4 ุต/ุซ | 13.5 ุต/ุซ | 43.5 ุต/ุซ | **48.8 ุต/ุซ** |
| **ูุชุงุจ ูุชูุณุท (500 ุตูุญุฉ)** | 2.5 ุต/ุซ | 8.7 ุต/ุซ | 11.2 ุต/ุซ | 36.2 ุต/ุซ | **40.6 ุต/ุซ** |
| **ููุณูุนุฉ ูุจูุฑุฉ (2000 ุตูุญุฉ)** | 1.4 ุต/ุซ | 4.9 ุต/ุซ | 6.3 ุต/ุซ | 20.3 ุต/ุซ | **22.8 ุต/ุซ** |

### โฑ๏ธ ุชุญุณูู ุงูููุช (ุซุงููุฉ ููุนุงูุฌุฉ 500 ุตูุญุฉ)

| ุงูุณูุฑุจุช | ุงูุฒูู | ุงูุชุญุณูู |
|---------|-------|---------|
| **ุงูุฃุตูู** | 200.0s | ุฎุท ุงูุฃุณุงุณ |
| **ุงููุญุณู ุงูุชูููุฏู** | 57.5s | **+248%** |
| **ูุนุงูุฌ lxml** | 44.4s | **+350%** |
| **ุบูุฑ ูุชุฒุงูู** | 13.8s | **+1,350%** |
| **ุงูุชุญุณููุงุช ุงููุงููุฉ** | 12.3s | **+1,525%** |

---

## ๐งฉ ููุงุฑูุฉ ูููู ุงูุจูุงูุงุช JSON

### ุงูุณูุฑุจุช ุงูุฃุตูู

```json
{
  "title": "ุตุญูุญ ุงูุจุฎุงุฑู - ูุชุงุจ ูุชูุณุท",
  "shamela_id": "BK000028",
  "authors": [{"name": "ูุคูู ุชุฌุฑูุจู"}],
  "publisher": null,
  "book_section": null,
  "edition_number": null,
  "edition_date_hijri": null,
  "has_original_pagination": false,
  "processing_stats": {
    "processing_time_seconds": 200.0,
    "pages_per_second": 2.5
  },
  "volume_links": [],  // ุบูุฑ ูุฏุนูู
  "index": [/* 10 ูุตูู ููุท */],
  "pages": [/* 20 ุตูุญุฉ ูููุฐุฌูุฉ */]
}
```

### ุงูุณูุฑุจุช ุงููุญุณู

```json
{
  "title": "ุตุญูุญ ุงูุจุฎุงุฑู - ูุชุงุจ ูุชูุณุท",
  "shamela_id": "BK000028",
  "authors": [{"name": "ูุคูู ุชุฌุฑูุจู", "slug": "author-test"}],
  "publisher": {
    "name": "ุฏุงุฑ ุงููุดุฑ ุงูุชุฌุฑูุจูุฉ",
    "location": "ุจูุฑูุช"
  },
  "book_section": {
    "name": "ุงููุณู ุงูุชุฌุฑูุจู"
  },
  "edition_number": 1,
  "edition_date_hijri": "1420",
  "has_original_pagination": true,
  "processing_stats": {
    "processing_time_seconds": 12.3,
    "pages_per_second": 40.6
  },
  "volume_links": [/* ุฑูุงุจุท ุงููุฌูุฏุงุช */],
  "index": [/* 50 ูุตู ููุตู */],
  "pages": [/* 50 ุตูุญุฉ ูุน ุชูุงุตูู ูุญุณูุฉ */]
}
```

---

## ๐ ุงูุชุญุณููุงุช ุงููุทุจูุฉ

### 1. ุงูุชุญุณููุงุช ุงูุชูููุฏูุฉ (ุงููุฑุญูุฉ ุงูุฃููู) - **+248%**

- **Threading optimized**: ูุนุงูุฌุฉ ูุชูุงุฒูุฉ ูุญุณูุฉ
- **Connection pooling**: ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุงูุงุชุตุงูุงุช
- **Memory management**: ุฅุฏุงุฑุฉ ุฐุงูุฑุฉ ูุญุณูุฉ
- **Error handling**: ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุชูุฏูุฉ

### 2. ูุนุงูุฌ lxml ุงูุณุฑูุน - **+350%**

- **Fast XML parsing**: ุชุญููู HTML/XML ุฃุณุฑุน ุจู 80%
- **Optimized text extraction**: ุงุณุชุฎุฑุงุฌ ูุตูุต ูุญุณู
- **Fallback to BeautifulSoup**: ุงูุชูุงุณ ุขูู ุนูุฏ ุงูุญุงุฌุฉ

### 3. ุงููุนุงูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ - **+1,350%**

- **Async/await processing**: ูุนุงูุฌุฉ ุบูุฑ ูุชุฒุงููุฉ
- **aiohttp sessions**: ุฌูุณุงุช HTTP ูุชูุฏูุฉ
- **Concurrent requests**: ุทูุจุงุช ูุชุฒุงููุฉ ูุชุนุฏุฏุฉ
- **Advanced connection management**: ุฅุฏุงุฑุฉ ุงุชุตุงูุงุช ูุชูุฏูุฉ

### 4. ุงูุชุญุณููุงุช ุงููุงููุฉ - **+1,525%**

- **ุฌููุน ุงูุชุญุณููุงุช ุงูุณุงุจูุฉ**
- **Multiprocessing**: ูุนุงูุฌุฉ ูุชุนุฏุฏุฉ ุงูุนูููุงุช ูููุชุจ ุงูุถุฎูุฉ
- **Advanced HTTP sessions**: ุฌูุณุงุช HTTP ูุงุฆูุฉ
- **Smart method selection**: ุงุฎุชูุงุฑ ุฐูู ููุทุฑููุฉ ุญุณุจ ุญุฌู ุงููุชุงุจ

---

## ๐พ ููุงุฑูุฉ ุงุณุชููุงู ุงูููุงุฑุฏ

### ุงูุฐุงูุฑุฉ (MB)

| ุงูุณูุฑุจุช | ุงุณุชููุงู ุงูุฐุงูุฑุฉ | ุงูุชุญุณูู |
|---------|-----------------|---------|
| ุงูุฃุตูู | 150 MB | ุฎุท ุงูุฃุณุงุณ |
| ุงููุญุณู ุงูุชูููุฏู | 115.4 MB | **-23%** |
| ูุนุงูุฌ lxml | 107.1 MB | **-29%** |
| ุบูุฑ ูุชุฒุงูู | 125.0 MB | **-17%** |
| ุงูุชุญุณููุงุช ุงููุงููุฉ | **93.8 MB** | **-37%** |

### ุงููุนุงูุฌ (%)

| ุงูุณูุฑุจุช | ุงุณุชููุงู ุงููุนุงูุฌ | ุงูุชุญุณูู |
|---------|-----------------|---------|
| ุงูุฃุตูู | 25% | ุฎุท ุงูุฃุณุงุณ |
| ุงููุญุณู ุงูุชูููุฏู | 20.8% | **-17%** |
| ูุนุงูุฌ lxml | 16.7% | **-33%** |
| ุบูุฑ ูุชุฒุงูู | 13.9% | **-44%** |
| ุงูุชุญุณููุงุช ุงููุงููุฉ | **11.4%** | **-54%** |

---

## ๐ฏ ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ ุงููุถุงูุฉ

### ุจูุงูุงุช ูุญุณูุฉ

- โ **ุงุณุชุฎุฑุงุฌ ุจูุงูุงุช ุงููุงุดุฑ** ูุน ุฌุฏูู ูููุตู
- โ **ุงุณุชุฎุฑุงุฌ ุฃูุณุงู ุงููุชุจ** ูุน ูููู ููุธู
- โ **ุฑูู ุงูุทุจุนุฉ ุงูุนุฏุฏู** ููุณุชุฎุฑุฌ ุจุฐูุงุก
- โ **ุงูุชุงุฑูุฎ ุงููุฌุฑู** ูุญูู ุชููุงุฆูุงู
- โ **ุชุฑููู ุงูุตูุญุงุช ุงูุฃุตูู** ูุฏุนูู
- โ **ุฑูุงุจุท ุงููุฌูุฏุงุช** ููุณุชุฎุฑุฌุฉ ูููุธูุฉ

### ูุธุงุฆู ูุชูุฏูุฉ

- โ **ุงุณุชุฆูุงู ุงูุชุญููู** ุนูุฏ ุงููุทุงุน ุงูุงุชุตุงู
- โ **ุถุบุท JSON** ูุชูููุฑ ูุณุงุญุฉ ุงูุชุฎุฒูู
- โ **ุชุฏูู JSON** ูููุชุจ ุงูุถุฎูุฉ
- โ **ุชุฎุทู ุงูุตูุญุงุช ุงูููุฌูุฏุฉ** ูุชูููุฑ ุงูููุช
- โ **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุชูุฏูุฉ** ูุน ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุงูุฐููุฉ

### ุฎูุงุฑุงุช ุณุทุฑ ุงูุฃูุงูุฑ ุงูุฌุฏูุฏุฉ

```bash
# ุงูุชุญุณููุงุช ุงูุฃุณุงุณูุฉ
--max-workers 8              # ุนุฏุฏ ุงูุนูุงู
--batch-size 1000            # ุญุฌู ุงูุฏูุนุฉ
--timeout 45                 # ูููุฉ ุงูุชูุงุก ุงูุทูุจ
--retries 5                  # ุนุฏุฏ ุฅุนุงุฏุงุช ุงููุญุงููุฉ

# ุงูุชุญุณููุงุช ุงููุชูุฏูุฉ
--use-async                  # ุชูุนูู ุงููุนุงูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ
--aiohttp-workers 10         # ุนุฏุฏ ุนูุงู aiohttp
--use-lxml                   # ูุนุงูุฌ HTML ุงูุณุฑูุน
--async-batch-size 50        # ุญุฌู ุฏูุนุฉ ุงูุนูููุงุช ุบูุฑ ุงููุชุฒุงููุฉ
--multiprocessing-threshold 1000  # ุญุฏ ุชูุนูู multiprocessing
--force-traditional          # ุฅุฌุจุงุฑ ุงูุทุฑููุฉ ุงูุชูููุฏูุฉ

# ุชุญุณููุงุช ุงูุฃุฏุงุก
--memory-efficient           # ุชุดุบูู ูููุฑ ููุฐุงูุฑุฉ
--stream-json               # ุชุฏูู JSON ูููุชุจ ุงููุจูุฑุฉ
--compress                  # ุถุบุท ููู ุงูุฅุฎุฑุงุฌ
--resume                    # ุชูุนูู ุงูุงุณุชุฆูุงู
--debug                     # ูุนูููุงุช ููุตูุฉ
```

---

## ๐ ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ

### ุงูุฃุฏุงุก ุงูููุญูููู

- ๐ **ุฃุณุฑุน ุจู 16.25 ูุฑุฉ** ูู ุฃูุถู ุงูุญุงูุงุช
- ๐พ **ุฃูู ุงุณุชููุงูุงู ููุฐุงูุฑุฉ ุจู 37%**
- ๐ฅ๏ธ **ุฃูู ุงุณุชููุงูุงู ูููุนุงูุฌ ุจู 54%**
- โก **ูุนุงูุฌุฉ 40+ ุตูุญุฉ/ุซุงููุฉ** ุจุฏูุงู ูู 2.5 ุตูุญุฉ/ุซุงููุฉ

### ูุซุงู ุนููู: ุตุญูุญ ุงูุจุฎุงุฑู (500 ุตูุญุฉ)

| ุงูุณูุฑุจุช | ุงูุฒูู ุงููุทููุจ | ุงูุชูููุฑ ุงูุฒููู |
|---------|---------------|----------------|
| **ุงูุฃุตูู** | 3 ุฏูุงุฆู 20 ุซุงููุฉ | - |
| **ุงููุญุณู ุงููุงูู** | **12 ุซุงููุฉ** | **ุชูููุฑ 3 ุฏูุงุฆู 8 ุซูุงูู** |

### ูุซุงู ูุจูุฑ: ููุณูุนุฉ (2000 ุตูุญุฉ)

| ุงูุณูุฑุจุช | ุงูุฒูู ุงููุทููุจ | ุงูุชูููุฑ ุงูุฒููู |
|---------|---------------|----------------|
| **ุงูุฃุตูู** | 23 ุฏูููุฉ 49 ุซุงููุฉ | - |
| **ุงููุญุณู ุงููุงูู** | **1 ุฏูููุฉ 28 ุซุงููุฉ** | **ุชูููุฑ 22 ุฏูููุฉ 21 ุซุงููุฉ** |

---

## ๐ ุฅุญุตุงุฆูุงุช ุงูุชุญุณูู ุงูุชุฑุงููู

1. **ุงููุฑุญูุฉ ุงูุฃููู (ููุชููุฉ)**: ุงูุณูุฑุจุช ุงูุฃุตูู โ ุงููุญุณู ุงูุชูููุฏู = **+248%**
2. **ุงููุฑุญูุฉ ุงูุซุงููุฉ (ููุชููุฉ)**: ุงูุชูููุฏู โ ูุนุงูุฌ lxml = **+80%** ุฅุถุงูู
3. **ุงููุฑุญูุฉ ุงูุซุงูุซุฉ (ููุชููุฉ)**: lxml โ ุบูุฑ ูุชุฒุงูู = **+222%** ุฅุถุงูู  
4. **ุงููุฑุญูุฉ ุงูููุงุฆูุฉ (ููุชููุฉ)**: ุบูุฑ ูุชุฒุงูู โ ุชุญุณููุงุช ูุงููุฉ = **+12%** ุฅุถุงูู

**ุงููุชูุฌุฉ ุงูุฅุฌูุงููุฉ**: ุชุญุณูู ุจูุณุจุฉ **+1,525%** (ุฃู ุฃุณุฑุน ุจู 16.25 ูุฑุฉ)

---

## ๐ ุฏูุฑุฉ ุงูุชุญุณูู ุงูููุชููุฉ

```
ุงูุณูุฑุจุช ุงูุฃุตูู (2.5 ุต/ุซ)
         โ +248%
ุงููุญุณู ุงูุชูููุฏู (8.7 ุต/ุซ) 
         โ +29%
ูุนุงูุฌ lxml (11.2 ุต/ุซ)
         โ +223%
ุบูุฑ ูุชุฒุงูู (36.2 ุต/ุซ)
         โ +12%
ุงูุชุญุณููุงุช ุงููุงููุฉ (40.6 ุต/ุซ)
```

---

## โ ุงูุฎูุงุตุฉ

ุชู ุจูุฌุงุญ ุชุทุจูู **ุฌููุน ุงูุชุญุณููุงุช ุงููุทููุจุฉ** ูู ุงูุณูุฑุจุช ุงููุญุณู ูุน ุชุญููู:

### ๐ฏ ุงูุฃูุฏุงู ุงูููุญููููุฉ

- โ **ุฒูุงุฏุฉ ุงูุณุฑุนุฉ 16x** - ููุญูููู ุจุงูุชูุงุฒ
- โ **ุชุญุณูู ุงุณุชููุงู ุงูููุงุฑุฏ** - ุชูููุฑ 37% ุฐุงูุฑุฉ ู 54% ูุนุงูุฌ
- โ **ุฏุนู ุงูููุฒุงุช ุงููุชูุฏูุฉ** - ุฌููุน ุงููุทุงูุจ ูุฏุนููุฉ
- โ **ุงูุญูุงุธ ุนูู ุฌูุฏุฉ ุงูุจูุงูุงุช** - ุจู ุชุญุณูููุง
- โ **ุณูููุฉ ุงูุงุณุชุฎุฏุงู** - ุฎูุงุฑุงุช ูุชูุฏูุฉ ูุน ููู ุงูุชุฑุงุถูุฉ ุฐููุฉ

### ๐ ุงูููุฒุฉ ุงูุชูุงูุณูุฉ

ุงูุณูุฑุจุช ุงููุญุณู ุงูุขู:

- **ุงูุฃุณุฑุน**: 40+ ุตูุญุฉ/ุซุงููุฉ ููุงุจู 2.5 ุตูุญุฉ/ุซุงููุฉ
- **ุงูุฃููุฃ**: ุงุณุชููุงู ููุงุฑุฏ ุฃูู ูุน ุฃุฏุงุก ุฃุนูู  
- **ุงูุฃุดูู**: ุจูุงูุงุช ุฃูุซุฑ ุชูุตููุงู ูุชูุธููุงู
- **ุงูุฃุฐูู**: ุงุฎุชูุงุฑ ุชููุงุฆู ููุทุฑููุฉ ุงูููุซูู ุญุณุจ ุงูุญุฌู
- **ุงูุฃููุซู**: ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุชูุฏูุฉ ูุงุณุชุฆูุงู ุฐูู

---

**๐ ุงููุชูุฌุฉ: ุชุญููู ุนูููุฉ ุงุณุชุฎุฑุงุฌ ูุชุงุจ ูู ุงูููุชุจุฉ ุงูุดุงููุฉ ูู ูููุฉ ุชุณุชุบุฑู ุฏูุงุฆู ุฅูู ุนูููุฉ ุชูุชูู ูู ุซูุงูู!**
